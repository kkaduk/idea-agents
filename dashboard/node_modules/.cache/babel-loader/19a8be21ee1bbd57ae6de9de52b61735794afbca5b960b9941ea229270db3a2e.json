{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AGENTS=[{id:\"human-agent\",display:\"Human Agent\",color:\"#ffc800\"},{id:\"idea-creator-agent\",display:\"Creator Agent\",color:\"#73f7dd\"},{id:\"idea-critic-agent\",display:\"Critic Agent\",color:\"#f35b53\"},{id:\"idea-finalizer-agent\",display:\"Finalizer Agent\",color:\"#d473f7\"},{id:\"risk-estimator-agent\",display:\"Risk Estimator\",color:\"#6fa8dc\"}];const LOG_POLL_INTERVAL=3000;// ms\nfunction App(){const[idea,setIdea]=useState(\"\");const[orchestrateStatus,setOrchestrateStatus]=useState(\"\");const[logs,setLogs]=useState({});const[loadingLogs,setLoadingLogs]=useState(false);const logRefs=useRef({});useEffect(()=>{fetchAllLogs();const interval=setInterval(fetchAllLogs,LOG_POLL_INTERVAL);return()=>clearInterval(interval);// eslint-disable-next-line\n},[]);function fetchAllLogs(){setLoadingLogs(true);Promise.all(AGENTS.map(agent=>fetch(\"/api/logs/\".concat(agent.id,\"?lines=100\")).then(res=>res.text()))).then(results=>{const next={};AGENTS.forEach((agent,idx)=>{next[agent.id]=results[idx];});setLogs(next);setLoadingLogs(false);// Scroll to bottom of each log (after DOM update)\nsetTimeout(()=>{AGENTS.forEach(agent=>{if(logRefs.current[agent.id]){logRefs.current[agent.id].scrollTop=logRefs.current[agent.id].scrollHeight;}});},100);});}function handleOrchestrate(e){e.preventDefault();setOrchestrateStatus(\"Starting...\");fetch(\"/api/product-ideas/orchestrate\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain\"},body:idea.trim()}).then(res=>res.text()).then(msg=>{setOrchestrateStatus(\"Response: \".concat(msg));fetchAllLogs();}).catch(err=>setOrchestrateStatus(\"Error: \"+err.message));}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-root\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Idea Agents Diagnostic Dashboard\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"idea-input-section\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleOrchestrate,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Describe your idea...\",value:idea,onChange:e=>setIdea(e.target.value),className:\"idea-input\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"orchestrate-btn\",children:\"Orchestrate Product Development\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orchestrate-status\",children:orchestrateStatus})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Agent Logs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logs-wrapper\",children:AGENTS.map(agent=>/*#__PURE__*/_jsxs(\"div\",{className:\"log-panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"log-header\",style:{background:agent.color,color:\"#222\",fontWeight:700},children:agent.display}),/*#__PURE__*/_jsx(\"pre\",{className:\"log-output\",ref:el=>logRefs.current[agent.id]=el,style:{background:\"#14172b\",color:\"#eaeaea\",borderLeft:\"5px solid \".concat(agent.color)},children:logs[agent.id]||(loadingLogs?\"Loading...\":\"No log.\")})]},agent.id))})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","useRef","jsx","_jsx","jsxs","_jsxs","AGENTS","id","display","color","LOG_POLL_INTERVAL","App","idea","setIdea","orchestrateStatus","setOrchestrateStatus","logs","setLogs","loadingLogs","setLoadingLogs","logRefs","fetchAllLogs","interval","setInterval","clearInterval","Promise","all","map","agent","fetch","concat","then","res","text","results","next","forEach","idx","setTimeout","current","scrollTop","scrollHeight","handleOrchestrate","e","preventDefault","method","headers","body","trim","msg","catch","err","message","className","children","onSubmit","type","placeholder","value","onChange","target","required","style","background","fontWeight","ref","el","borderLeft"],"sources":["/Users/KKADUK/Project/idea-agents/dashboard/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\n\nconst AGENTS = [\n  { id: \"human-agent\", display: \"Human Agent\", color: \"#ffc800\" },\n  { id: \"idea-creator-agent\", display: \"Creator Agent\", color: \"#73f7dd\" },\n  { id: \"idea-critic-agent\", display: \"Critic Agent\", color: \"#f35b53\" },\n  { id: \"idea-finalizer-agent\", display: \"Finalizer Agent\", color: \"#d473f7\" },\n  { id: \"risk-estimator-agent\", display: \"Risk Estimator\", color: \"#6fa8dc\" },\n];\n\nconst LOG_POLL_INTERVAL = 3000; // ms\n\nfunction App() {\n  const [idea, setIdea] = useState(\"\");\n  const [orchestrateStatus, setOrchestrateStatus] = useState(\"\");\n  const [logs, setLogs] = useState({});\n  const [loadingLogs, setLoadingLogs] = useState(false);\n  const logRefs = useRef({});\n\n  useEffect(() => {\n    fetchAllLogs();\n    const interval = setInterval(fetchAllLogs, LOG_POLL_INTERVAL);\n    return () => clearInterval(interval);\n    // eslint-disable-next-line\n  }, []);\n\n  function fetchAllLogs() {\n    setLoadingLogs(true);\n    Promise.all(\n      AGENTS.map((agent) =>\n        fetch(`/api/logs/${agent.id}?lines=100`).then((res) => res.text())\n      )\n    ).then((results) => {\n      const next = {};\n      AGENTS.forEach((agent, idx) => {\n        next[agent.id] = results[idx];\n      });\n      setLogs(next);\n      setLoadingLogs(false);\n      // Scroll to bottom of each log (after DOM update)\n      setTimeout(() => {\n        AGENTS.forEach((agent) => {\n          if (logRefs.current[agent.id]) {\n            logRefs.current[agent.id].scrollTop = logRefs.current[agent.id].scrollHeight;\n          }\n        });\n      }, 100);\n    });\n  }\n\n  function handleOrchestrate(e) {\n    e.preventDefault();\n    setOrchestrateStatus(\"Starting...\");\n    fetch(\"/api/product-ideas/orchestrate\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"text/plain\" },\n      body: idea.trim(),\n    })\n      .then((res) => res.text())\n      .then((msg) => {\n        setOrchestrateStatus(`Response: ${msg}`);\n        fetchAllLogs();\n      })\n      .catch((err) => setOrchestrateStatus(\"Error: \" + err.message));\n  }\n\n  return (\n    <div className=\"dashboard-root\">\n      <h1>Idea Agents Diagnostic Dashboard</h1>\n      <section className=\"idea-input-section\">\n        <form onSubmit={handleOrchestrate}>\n          <input\n            type=\"text\"\n            placeholder=\"Describe your idea...\"\n            value={idea}\n            onChange={(e) => setIdea(e.target.value)}\n            className=\"idea-input\"\n            required\n          />\n          <button type=\"submit\" className=\"orchestrate-btn\">\n            Orchestrate Product Development\n          </button>\n        </form>\n        <div className=\"orchestrate-status\">{orchestrateStatus}</div>\n      </section>\n      <h2>Agent Logs</h2>\n      <div className=\"logs-wrapper\">\n        {AGENTS.map((agent) => (\n          <div className=\"log-panel\" key={agent.id}>\n            <div\n              className=\"log-header\"\n              style={{ background: agent.color, color: \"#222\", fontWeight: 700 }}\n            >\n              {agent.display}\n            </div>\n            <pre\n              className=\"log-output\"\n              ref={(el) => (logRefs.current[agent.id] = el)}\n              style={{\n                background: \"#14172b\",\n                color: \"#eaeaea\",\n                borderLeft: `5px solid ${agent.color}`,\n              }}\n            >\n              {logs[agent.id] || (loadingLogs ? \"Loading...\" : \"No log.\")}\n            </pre>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}